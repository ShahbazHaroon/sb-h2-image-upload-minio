app.cors.allowed-origins=http://localhost:4200, http://localhost:4300
server.port=8080

# Below settings, allows Docker to expose the port to the host machine
server.address=0.0.0.0

##### Datasource Configuration #####
# H2 Database (default profile)
spring.datasource.url=jdbc:h2:mem:sb-h2-image-upload-minio-db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.platform=h2
spring.datasource.driver-class-name=org.h2.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
#spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# This is deprecated in new versions of Spring
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
# By default, the H2 console does not allow remote access for security reasons. I have made it true so that I can access it even the app is working inside the docker container.
spring.h2.console.settings.web-allow-others=true

##### Hibernate (JPA) Configuration #####
spring.jpa.hibernate.ddl-auto=create

# Show SQL statements in logs (Spring Boot-level property)
# By default, parameters are shown as '?' unless TRACE logging is enabled
spring.jpa.show-sql=false

# If below is true: the output will be like: select * from user where id=? (for prod environment)
spring.jpa.properties.hibernate.show_sql=true

# Hibernate-level property
# Format SQL for readability (false: keep it in one line, true: each statement on separate lines)
spring.jpa.properties.hibernate.format_sql=false

# Add SQL comments (can be removed if you want minimal output)
spring.jpa.properties.hibernate.use_sql_comments=false

# If DB schema is created by Hibernate, below should be true to ensure import.sql runs after the schema is created
spring.jpa.defer-datasource-initialization=true

##### Logging Level #####
logging.level.root=DEBUG
logging.level.org.springdoc=DEBUG
logging.level.org.springframework=DEBUG

# Logging configuration for Spring Web
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.boot.autoconfigure=DEBUG

# Log SQL statements in DEBUG
logging.level.org.hibernate.SQL=DEBUG

logging.level.org.hibernate.engine.transaction=TRACE
logging.level.org.hibernate.type=TRACE

# Show actual parameter values in SQL (useful for debugging)
logging.level.org.hibernate.type.descriptor.sql=TRACE

# Log parameter values in TRACE
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.type.descriptor.sql.BasicTypeDescriptor=TRACE

logging.level.com.zaxxer.hikari.HikariConfig=DEBUG
logging.level.com.zaxxer.hikari=TRACE

# Allowed image types
app.upload.allowed-types=image/jpeg,image/png

# Max image size limit (2MB)
spring.servlet.multipart.max-file-size=2MB
spring.servlet.multipart.max-request-size=2MB

##### MinIO Configuration #####
minio.url=http://localhost:9000
minio.access-key=minioadmin
minio.secret-key=minioadmin
minio.bucket=user-images
minio.presigned-url-expiry=3600
